<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Your Website</title>
  <link rel="stylesheet" href="main.css" />
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow-x: hidden;
    }

    .top-nav-wrapper {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #333;
      padding: 5px 20px;
      position: fixed;
      width: 100%;
      top: 0;
      left: 0;
      z-index: 999;
    }

    .nav-logo-left, .nav-logo-right {
      height: 40px;
    }

    .nav-logo-right {
      cursor: pointer;
    }

    nav.top-nav ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      gap: 20px;
    }

    nav.top-nav li a {
      color: rgb(106, 202, 219);
      text-decoration: none;
      font-weight: bold;
      padding: 10px 20px;
      display: inline-block;
      transition: background-color 0.3s ease;
    }

    nav.top-nav li a:hover {
      background-color: #555;
      border-radius: 5px;
    }

    .signin-popup {
      display: none;
      position: fixed;
      top: 70px;
      right: 20px;
      background-color: #fff;
      padding: 20px;
      border: 2px solid #333;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      z-index: 9999;
    }

    .signin-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .signin-form h2 {
      margin-top: 0;
      color: #007bff;
    }

    .signin-form input {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .signin-form button {
      padding: 10px;
      background-color: #007bff;
      border: none;
      color: white;
      border-radius: 4px;
      cursor: pointer;
    }

    .signin-form button:hover {
      background-color: #0056b3;
    }

    .background-container {
      position: fixed;
      inset: 0;
      z-index: -1;
      overflow: hidden;
    }

    .background-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .character {
      position: absolute;
      bottom: -30px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .character img:first-child {
      display: none; /* Hides the character gif initially */
    }

    .character img:last-child {
      width: 100px;
      margin-top: 10px;
    }

    .left-center-image {
      position: absolute;
      left: 35px;
      top: 210px;
      transform: translateY(-50%);
      width: 160px;
    }

    .books-image {
      position: absolute;
      bottom: -20px;
      left: -19px;
      width: 200px;
    }

    .crumpled-papers {
      position: absolute;
      bottom: 0;
      right: 100px;
      display: flex;
      gap: 10px;
      z-index: 2;
    }

    .crumpled-papers img {
      width: 60px;
    }

    .blue-image {
      position: absolute;
      bottom: -5px;
      left: 15%;
      transform: translateX(-50%);
      width: 80px;
    }

    .org-container {
      margin-top: -550px;
      padding-right: 40px;
      z-index: 10;
      position: relative;
      width: 100%;
      height: 10px;
      display: flex;
      align-items: center;
      justify-content: flex-end;
    }

    .org-container img {
      width: 150px;
      height: 120px;
    }

    #floating-tooltip {
      position: fixed;
      display: none;
      background-color: rgba(0, 0, 0, 0.85);
      color: #41afbc;
      padding: 12px;
      border-radius: 6px;
      font-size: 12px;
      max-width: 260px;
      line-height: 1.4;
      z-index: 9999;
      pointer-events: none;
    }

    #floating-tooltip a {
      color: #00bfff;
      text-decoration: underline;
    }

    .default-icon {
      position: fixed;
      right: 20px;
      width: 200px;
      height: auto;
      z-index: 1000;
      cursor: pointer;
    }
    .plus-btn {
  position: absolute;
  top: 70px; /* Adjust based on your navbar height */
  right: 20px;
  font-size: 24px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: none;
  background-color: #28a745;
  color: white;
  cursor: pointer;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.3);
}
.popup {
  position: fixed;
  top: 100px;
  left: 50%;
  transform: translateX(-50%);
  background: white;
  border: 2px solid #333;
  padding: 16px;
  box-shadow: 0px 4px 12px rgba(0,0,0,0.2);
  z-index: 1001;
  display: none;
  width: 240px;
  border-radius: 8px;

  max-height: 80vh;      /* Limit height to 80% of viewport */
  overflow-y: auto;      /* Enable vertical scrolling */
}
.popup::-webkit-scrollbar {
  width: 6px;
}

.popup::-webkit-scrollbar-thumb {
  background-color: #aaa;
  border-radius: 3px;
}


.popup-content input {
  width: 100%;
  margin: 4px 0 8px;
  padding: 5px;
  font-size: 14px;
}

.popup .close-btn {
  float: right;
  cursor: pointer;
  font-size: 20px;
}

.hidden {
  display: none;
}
#craneImage {
  margin-top: 8px;
}
#imagePreview {
  border: 1px solid #ccc;
  border-radius: 4px;
  max-height: 150px;
  object-fit: contain;
}

.popup-content input,
.popup-content select {
  width: 100%;
  margin: 5px 0 10px;
  padding: 5px;
  font-size: 14px;
  box-sizing: border-box;
}



    
  </style>
</head>
<body>

  <!-- Navigation Bar -->
  <div class="top-nav-wrapper">
    <img src="origo.png" alt="Origo Logo" class="nav-logo-left" style="margin-left: 40px; width: 40px; height: 40px; border-radius: 50%;">
    <nav class="top-nav">
      <ul>
        <li><a href="HOME.html">Main Frame</a></li>
        <li><a href="Nova.html">The Creased Cosmos</a></li>
        <li><a href="#">Repository Collection </a></li>
        <li><a href="Instruction_Page.html">Instructions & Tips</a></li>
        <li><a href="Nova.html">NoVa</a></li>
        <li><a href="crumble.html">Crumble</a></li>
        <li><a href="mini_game/">Mini Game</a></li>
        <li><a href="#">FoldAI</a></li>
        <li><a href="https://origo.fandom.com/wiki/Ori(go)_Wiki" target="_blank">About</a></li>
      </ul>
    </nav>
    <img src="Log.png" alt="User Login" class="nav-logo-right" style="margin-right: 100px;" onclick="toggleLoginBox()">
  </div>

  <!-- Background -->
  <div class="background-container">
    <img src="origo_background.png" alt="Background Image" />
  </div>

  <!-- Login Popup -->
  <div id="signinPopup" class="signin-popup">
    <form class="signin-form" onsubmit="handleSignIn(event)">
      <h2>Sign In</h2>
      <input type="email" placeholder="Email" required />
      <input type="password" placeholder="Password" required />
      <button type="submit">Login</button>
    </form>
  </div>
  <!-- Crane Model Popup -->
<div id="cranePopup" class="popup hidden">
  <div class="popup-content">
    <span class="close-btn" onclick="closeCranePopup()">&times;</span>
    <h2>Crane Model</h2>

    <p><strong>Random Code:</strong> <span id="randomCode"></span></p>

    <label for="modelName">Name:</label>
    <input type="text" id="modelName" placeholder="Enter model name" />

    <p>Choose Faction:</p>
    <div>
      <input type="radio" name="faction" id="lockbind" value="Lockbind">
      <label for="lockbind">Lockbind</label>
      <input type="radio" name="faction" id="manifold" value="Manifold">
      <label for="manifold">Manifold</label>
    </div>

    <label for="timeTaken">How long did it take (minutes)?</label>
    <input type="number" id="timeTaken" />

    <label for="paperSize">Size of paper (e.g., 15x15):</label>
    <input type="text" id="paperSize" placeholder="e.g. 15x15" />

    <!-- Image Upload -->
    <label for="craneImage">Upload Image (optional):</label>
    <input type="file" id="craneImage" accept="image/*" />
    <img id="imagePreview" style="max-width: 100%; margin-top: 10px; display: none;" />

    <button onclick="calculateMetrics()">Submit</button>

    <div id="results" style="margin-top: 10px; display: none;"></div>
  </div>
</div>

  

  <!-- Characters -->
  <div class="character" style="left: 38%;">
    <img src="terminal.gif" alt="Terminal" id="terminal" style="width: 300px;" />
    <div class="stand-container" id="stand-terminal">
      <img src="stand.png" alt="Stand for Terminal" />
    </div>
  </div>

<!-- Vanguard -->
<div class="character" style="left: 20%;">
  <img src="vanguard.gif" alt="Vanguard" id="vanguard" style="width: 300px;" />
  <div class="stand-container" id="stand-vanguard">
    <img src="stand.png" alt="Stand for Vanguard" />
  </div>
</div>

<!-- Specter -->
<div class="character" style="left: 60%;">
  <img src="specter.gif" alt="Specter" id="specter" style="width: 300px;" />
  <div class="stand-container" id="stand-specter">
    <img src="stand.png" alt="Stand for Specter" />
  </div>
  </div>

  <!-- Icons to reveal characters -->
  <img src="default_icon.png" alt="Reveal Vanguard" class="default-icon" id="icon-vanguard" style="top: 30%;" />
  <img src="lock_spectre_icon.png" alt="Reveal Specter" class="default-icon" id="icon-specter" style="top: 40%;" />
  <img src="lock_terminal_icon.png" alt="Reveal Terminal" class="default-icon" id="icon-terminal" style="top: 50%;" />
  

  <!-- Tooltip -->
  <div id="floating-tooltip"></div>
  <!-- Plus Button -->
<button id="openCranePopup" class="plus-btn">+</button>
<label for="craneImage">Upload Image (optional):</label>
<input type="file" id="craneImage" accept="image/*">
<br>
<img id="imagePreview" style="max-width: 100%; margin-top: 10px; display: none;" />




  <!-- Floating Images -->
  <img src="hxh.png" alt="HXH PNG" class="left-center-image" />
  <img src="books.png" alt="Books PNG" class="books-image" />
  <div class="org-container">
    <img src="org.png" alt="Org Logo" />
  </div>
  <div class="crumpled-papers">
    <img src="white.png" alt="White PNG" />
    <img src="yellow.png" alt="Yellow PNG" />
  </div>
  <img src="blue.png" alt="Blue PNG" class="blue-image" />

  <!-- Audio Controls -->
  <audio id="audioPlayer"></audio>
  <div style="position: fixed; bottom: 120px; right: 20px; z-index: 1000; display: flex; gap: 10px;">
    <button id="startAudio">🔊 Start Audio</button>
    <button id="stopAudio">⏹️ Stop Audio</button>
  </div>
  <div style="position: fixed; bottom: 70px; right: 50px; z-index: 1000; display: flex; align-items: center;">
    <img src="song.png" alt="Volume" style="width: 24px; height: 24px; margin-right: 8px;" />
    <input type="range" id="volumeControl" min="0" max="1" step="0.01" value="0.5" />
  </div>
  <button id="clearCharacters" style="position: fixed; bottom: 170px; right: 20px; z-index: 1000;">
    ❌ Clear Characters
  </button>
  <script>
    function toggleLoginBox() {
      const popup = document.getElementById("signinPopup");
      popup.style.display = popup.style.display === "block" ? "none" : "block";
    }
  
    function handleSignIn(event) {
      event.preventDefault();
      alert("Signed in successfully!");
    }
  
    document.getElementById("clearCharacters").addEventListener("click", () => {
      document.querySelectorAll(".character img:first-child").forEach(img => {
        img.style.display = "none";
      });
      document.querySelectorAll(".stand-container").forEach(container => {
        container.style.display = "none";
      });
    });
  
    
// Universal Unlock Popup
// Universal Unlock Popup
const unlockPopup = document.createElement("div");
unlockPopup.style.display = "none";
unlockPopup.style.position = "fixed";
unlockPopup.style.top = "30%";
unlockPopup.style.left = "50%";
unlockPopup.style.transform = "translate(-50%, -50%)";
unlockPopup.style.background = "#fff";
unlockPopup.style.border = "2px solid #000";
unlockPopup.style.padding = "20px";
unlockPopup.style.zIndex = "10000";
unlockPopup.style.borderRadius = "10px";
unlockPopup.innerHTML = `
  <h2 id="unlock-header">Unlock Model</h2>
  <p>Buy: <input type="number" id="unlock-input" placeholder="Enter amount..." /></p>
  <button id="unlock-confirm" disabled>Unlock</button>
  <button onclick="unlockPopup.style.display='none'">Cancel</button>
`;
document.body.appendChild(unlockPopup);

let currentUnlockTarget = null;

function showUnlockPopup(targetId, newIconSrc, minAmount) {
  currentUnlockTarget = { id: targetId, icon: newIconSrc, minAmount };
  unlockPopup.style.display = "block";
}

const unlockInput = unlockPopup.querySelector("#unlock-input");
const unlockButton = unlockPopup.querySelector("#unlock-confirm");

unlockInput.addEventListener("input", () => {
  const value = parseInt(unlockInput.value, 10);
  const score = parseInt(localStorage.getItem("score"), 10) || 0;  // Retrieve score from localStorage (default to 0 if not available)

  // Enable the unlock button only if the value is within the allowed range
  unlockButton.disabled = isNaN(value) || value < currentUnlockTarget.minAmount || value > score;
});


unlockButton.addEventListener("click", () => {
  if (!currentUnlockTarget) return;

  const { id, icon } = currentUnlockTarget;
  const unlockValue = parseInt(unlockInput.value, 10);  // Get the value entered by the user
  const score = parseInt(localStorage.getItem("score"), 10) || 0;

  // Subtract the unlocked amount from the score in localStorage
  localStorage.setItem("score", score - unlockValue);

  unlockPopup.style.display = "none";
  unlockInput.value = "";
  unlockButton.disabled = true;

  const characterImg = document.getElementById(id);
  const stand = document.getElementById("stand-" + id);
  if (characterImg) characterImg.style.display = "block";
  if (stand) stand.style.display = "block";

  const iconImg = document.getElementById("icon-" + id);
  if (iconImg) iconImg.src = icon;

  alert(`${id.charAt(0).toUpperCase() + id.slice(1)} unlocked!`);
});

// Vanguard - Reveal Model directly without popup
document.getElementById("icon-vanguard").addEventListener("click", () => {
  // Reveal Vanguard model directly without showing the unlock popup
  document.getElementById("vanguard").style.display = "block";
  document.getElementById("stand-vanguard").style.display = "block";
});

// Handlers per icon
document.getElementById("icon-specter").addEventListener("click", () => {
  const icon = document.getElementById("icon-specter");
  if (icon.src.includes("lock_spectre_icon.png")) {
    showUnlockPopup("specter", "spectre_icon.png", 500);  // Minimum 500 for Specter
  } else {
    document.getElementById("specter").style.display = "block";
    document.getElementById("stand-specter").style.display = "block";
  }
});

document.getElementById("icon-terminal").addEventListener("click", () => {
  const icon = document.getElementById("icon-terminal");
  if (icon.src.includes("lock_terminal_icon.png")) {
    showUnlockPopup("terminal", "terminal_icon.png", 1000);  // Minimum 1000 for Terminal
  } else {
    document.getElementById("terminal").style.display = "block";
    document.getElementById("stand-terminal").style.display = "block";
  }
});


// Tooltip setup (optional feature)
const tooltip = document.getElementById("floating-tooltip");
const triggers = document.querySelectorAll(".tooltip-trigger");

triggers.forEach(trigger => {
  trigger.addEventListener("mousemove", e => {
    tooltip.innerHTML = trigger.getAttribute("data-tooltip");
    tooltip.style.display = "block";
    tooltip.style.left = e.pageX + 15 + "px";
    tooltip.style.top = e.pageY + 15 + "px";
  });
  trigger.addEventListener("mouseleave", () => {
    tooltip.style.display = "none";
  });
});

// Audio logic
const audioFiles = ["summer.mp3", "city.mp3", "pool.mp3"];
let currentTrack = 0;
const player = document.getElementById("audioPlayer");
const volumeControl = document.getElementById("volumeControl");

document.getElementById("startAudio").addEventListener("click", () => {
  player.src = audioFiles[currentTrack];
  player.volume = volumeControl.value;
  player.play();
});

document.getElementById("stopAudio").addEventListener("click", () => {
  player.pause();
  player.currentTime = 0;
});

player.addEventListener("ended", () => {
  currentTrack = (currentTrack + 1) % audioFiles.length;
  player.src = audioFiles[currentTrack];
  player.play();
});

volumeControl.addEventListener("input", () => {
  player.volume = volumeControl.value;
});

  </script>

  </script>
</body>
</html>
